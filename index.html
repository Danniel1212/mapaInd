<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tasa de Homicidios en México</title>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,700,800,300,600italic,600" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://npmcdn.com/leaflet@1.0.0-rc.3/dist/leaflet.css" />

  <!-- Load c3.css -->
  <link href="lib/c3.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" type="text/css" href="lib/bigfoot/bigfoot-number.css">

  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="lib/iealert.min.js" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="lib/iealert/style.css" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>

  <script src='funcionesApi.js'></script>
  <span id="loader">
    <p style="color:#333; padding-top: 100px; ">Cargando<br>información</p>
  </span>
  <style media="screen">

  a.selected {
    background-color:#1F75CC;
    color:white;
    z-index:100;
    right:0;
    bottom:15%;
    position:absolute;
  }
   #contact{
     position: absolute;
      right: 0;
      bottom: 15%;
      background:#EFD331;
      color:#ffffff;
      padding:5px 10px;
      text-decoration:none;
      z-index: 99;
   }

   #contact img{
     padding: 8px;
     max-width: 64px;
   }

  .disclaimer {
    background-color:#FFFFFF;
    cursor:default;
    display:none;
    margin-top: 0px;
    text-align:left;
    width:394px;
    z-index:50;
    padding: 15px 25px;
    right:84px;
    bottom:15%;
    position:absolute;
    z-index: 99999;
  }

  label {
    display: block;
    margin-bottom: 3px;
    padding-left: 15px;
    text-indent: -15px;
  }


  .disclaimer p, .disclaimer.div {
    margin: 8px 0;
    padding-bottom: 8px;
    font-family:'Helvetica';
    font-weight:300;
    text-align:justify;
  }

  .disclaimer h1{
    font-size:30px;
    font-family:'Helvetica';
    font-weight:800;
  }



    #loader {
      display: block;
      background: rgba(62, 60, 60, 0.6);
      color: white;
      width: 100%;
      height: 100%;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 10000;
    }

    #loader p {
      display: block;
      font-size: 40px;
      position: absolute;
      top: -70px;
      /* left: 0; */
      bottom: 0;
      right: 15px;
      color: #fff !important /*margin: auto;*/;
      text-align: right;
    }

     #loader p #tex{
      width: 300px;
    }
  </style>

  <style>
    #map {
      width: 100%;
      height: 600px;
      overflow: hidden;
    }

    #map_compara {
      width: 100%;
      height: 600px;
      overflow: hidden;
    }

    .info,
    .info-explora {
      padding: 6px 8px;
      font: 14px/16px Arial, Helvetica, sans-serif;
      border-radius: 5px;
    }

    .info2-explora,
    .info2 {
      padding: 6px 8px;
      font: 10px/16px Arial, Helvetica, sans-serif;
      background-color: rgba(255, 255, 255, 0.8);
      border-radius: 0 0 5px 5px;
      margin-top: 0 !important;
      width: 291px;
    }

    .infos,
    .infos-explora {
      padding: 6px 7.5px;
      font: 14px/16px Arial, Helvetica, sans-serif;
      background-color: rgba(255, 255, 255, 0.8);
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
      border-radius: 5px 5px 0 0;
      width: 291px;
    }

    .info h4,
    .info-explora h4 {
      margin: 0 0 5px;
      color: #777;
    }

    .legend {
      text-align: left;
      line-height: 18px;
      color: #555;
    }

    .legend i {
      width: 18px;
      height: 18px;
      float: left;
      margin-right: 4.0pc;
      opacity: 1;
    }

    .c3-ygrids line {
      stroke-dasharray: 1;
      stroke: #dedbdb;
    }

    .c3-xgrid-focus line {
      stroke: #dedbdb;
    }

    g .leaflet-interactive {
      stroke-dasharray: 0 !important;
    }

    .highlighted {
      fill: rgb(226, 204, 6);
    }

    .bullets-container{
      top:50%;
    }

    @media only screen and (max-width: 1555px) {
        .bullets-container{
          display: none;
        }
}
@media only screen and (max-width:460px){
        a.selected {
          background-color:#1F75CC;
          color:white;
          z-index:100;
          right:0;
          bottom:15%;
          position:absolute;
        }
         #contact{
           position: absolute;
            right: 0;
            bottom: 15%;
            background:#EFD331;
            color:#ffffff;
            padding:5px 10px;
            text-decoration:none;
            z-index: 99999;
         }

         #contact img{
           padding: 8px;
           max-width: 35px;
         }

        .disclaimer {
          background-color:#FFFFFF;
          cursor:default;
          display:none;
          margin-top: 0px;
          text-align:left;
          width:70%;
          z-index:50;
          padding: 15px 25px;
          right:55px;
          bottom:15%;
          position:absolute;
          z-index: 99999;
        }

        label {
          display: block;
          margin-bottom: 3px;
          padding-left: 15px;
          text-indent: -15px;
        }


        .disclaimer p, .disclaimer.div {
          margin: 8px 0;
          padding-bottom: 8px;
          font-family:'Helvetica';
          font-weight:300;
          text-align:justify;
        }

        .disclaimer h1{
          font-size:20px;
          font-family:'Helvetica';
          font-weight:800;
        }

        .obj_descrip{
          height: 450px !important;
        }
        .obj_descrip div{
          height: 396px !important;
        }

    }

    .bigfoot-footnote__container, .bigfoot-footnote__wrapper, .bigfoot-footnote__content
    {
      margin: 0 !important;
    }

    aside[data-footnote-identifier="2"]
    {
      width: 600px;
      height: 400px;
      text-align: left;
    }
    aside[data-footnote-identifier="2"] > .bigfoot-footnote__wrapper, .bigfoot-footnote__content
    {
      max-height: 400px;
      width: 600px;
      height: 400px;
      text-align: left;
    }

    aside[data-footnote-identifier="4"]
    {
      width: 600px;
      height: 400px;
      text-align: left;
    }
    aside[data-footnote-identifier="4"] > .bigfoot-footnote__wrapper, .bigfoot-footnote__content
    {
      max-height: 400px;
      width: 600px;
      height: 400px;
      text-align: left;
    }

    aside[data-footnote-identifier="5"]
    {
      width: 600px;
      height: 400px;
      text-align: left;
    }
    aside[data-footnote-identifier="5"] > .bigfoot-footnote__wrapper, .bigfoot-footnote__content
    {
      max-height: 400px;
      width: 600px;
      height: 400px;
      text-align: left;
    }

    aside[data-footnote-identifier="1"]
    {
      width: 400px;
      height: 100px;
      text-align: left;
    }
    aside[data-footnote-identifier="1"]   .bigfoot-footnote__content, .bigfoot-footnote__wrapper
    {
      max-height: 100px;
      width: 400px;
      height: 100px;
      text-align: center;
    }

    aside[data-footnote-identifier="1"]   .bigfoot-footnote__content
    {
      color: black !important;
    }

    button[data-footnote-identifier="1"]
    {
      background-color: white;
      color: black;
    }

    aside[data-footnote-identifier="3"]
    {
      width: 400px;
      height: 120px;
      text-align: left;
    }

    aside[data-footnote-identifier="3"]   .bigfoot-footnote__content, .bigfoot-footnote__wrapper
    {
      max-height: 120px;
      width: 400px;
      height: 120px;
      text-align: center;
    }

    #obje_tool > a
    {
      color: white !important;
    }


  </style>

  <style media="screen">
    svg g.c3-chart-line g.c3-circles-Estados-Unidos-Mexicanos circle {
      fill: #f00 !important;
    }

    #datosNacional {
      display: none;
    }

    .infoPadre {
      width: 276px;
    }

    .cuadrosSocial li {
      display: inline;
    }

    .cuadrosSocial li a {
      border: 1px solid #ccc;
      padding: 10px;
      transition: all 1.0s ease;
      width: 40px;
    }

    .cuadrosSocial li a:hover {
      background-color: #ccc;
    }

    .select-dropdown {
      padding-left: 10px !important;
    }

    .select-wrapper span.caret {
      padding-right: 10px;
      font-size: 14px;
      color: #666;
    }

    .espacio_seccion {
      height: 40px;
    }

    .promedios {
      font-size: 40px !important;
      font-weight: 200;
    }

    .topColor {
      color: #3ebcef;
    }

    .section-bullets li a:before {
      background-color: #00aeef;
    }

    .section-bullets li:hover {
      background-color: #eee;
    }

    .section-bullets .active a {
      color: #fff;
    }

    .section-bullets .active a:after {
      background-color: #FFF;
    }

    .line_pro {
      border-bottom: #F44336;
      border: solid 1px #F44336;
      margin: 10px;
      max-width: 32%;
    }

    .active_anio {
      background-color: #15b5f0;
      color: white;
    }

    .inactive_anio {
      background-color: white;
      color: #15b5f0;
    }

    button:focus {
    outline: none;
      background-color: transparent;
    }

.tooltipped2{
  max-width: 300px;
  opacity: 0.7;
}
  </style>


</head>

<body>

<style>

  .btn-edo{
	text-align: left;
  /* background: #F6F6F6; */
	color:#0A254F;
}

.btn-edo div{
  padding:15px 20px !important;
  background: #F6F6F6;

}
.btn-edo div:first-child{
border-top-left-radius: 15px;
border-bottom-left-radius: 15px;
}

.btn-edo div:last-child{
border-top-right-radius: 15px;
border-bottom-right-radius: 15px;

}

.btn-edo img{
  vertical-align: middle;
  margin-right: 15px;
  max-height: 30px;
  max-width: 30px;
  height: 30px;
}


</style>



        <div class="col s12">
          <div id="map"></div>
        </div>




<style>
.cuadro_titulo{
    background-color: #fff;
    padding: 20px 20px 20px 0px;
    color: #083362;
}

.cuadro_titulo p{
    font-size: 20px;
    font-weight: 100;
    margin: 0px;
}

.cuadro_titulo span{
      font-size: 14px;
    font-weight: 300;
}

.cuadro_titulo .divider {
    background-color: #fff;
}

.pie_cuadro2{
  background-color: #fff;
  color: #083362;
  padding: 20px;
}
.pie_cuadro2 div{
  margin-top:6px;
  font-weight: 100;
  font-size: initial;
}
</style>

 

            <style media="screen">
              .caja-cafe {
                background-color: #f6f6f6;
                margin: 25px;
                padding: 30px;
                min-height: 375px;
                width:100%;
              }

              .caja-cafe div {
                margin: 1px;
                padding:10px 5px;
              }

              .caja-cafe a {
                color: #142a4f;
              }

              aside[data-footnote-identifier="3"]  a
              {
                color: #039be5 ;
              }
            </style>

         

  <script src="https://npmcdn.com/leaflet@1.0.0-rc.3/dist/leaflet.js"></script>
  
  <script type="text/javascript" src="entidad2.json"></script>

  <script src="lib/d3.v3.min.js" charset="utf-8"></script>
  <script src="lib/c3.min.js"></script>
  <script src="classybrew/build/classybrew.min.js"></script>
 
  <script type="text/javascript" src="lib/jquery.section-scroll.js"></script>
  <script type="text/javascript">
    var titulo_des_graf="Tasa de Homicidios";
    var estados = [];
    var atributos;
    var anioo;
    var numero = getRandomInt(0,9);
    var res = numero % 2;

    //redefinicion de atributos
    atributos =
      {
      "DescripInd_des": "HOMICIDIO DOLOSO",
      "Serie": [
        {
          "CobTemporal_ser": "1997-2017",
        }
      ],
    };

// estados = [
//   [
//     "Entidad",
//     "2015-01-01",
//     "2014-01-01",
//     "2013-01-01",
//     "2012-01-01",
//     "2011-01-01",
//     "2010-01-01",
//     "2009-01-01",
//     "2008-01-01",
//     "2007-01-01",
//     "2006-01-01",
//     "2005-01-01",
//     "2004-01-01",
//     "2003-01-01",
//     "2002-01-01",
//     "2001-01-01",
//     "2000-01-01",
//     "1999-01-01",
//     "1998-01-01",
//     "1997-01-01",
//     "1996-01-01",
//     "1995-01-01",
//     "1994-01-01",
//     "1993-01-01",
//     "1992-01-01",
//     "1991-01-01",
//     "1990-01-01"
//   ],
//   [
//     "Estados Unidos Mexicanos",
//     34.5922757849179,
//     38.9412968880902,
//     38.1986221876763,
//     42.3070007509493,
//     43.0353053490092,
//     44.0549959120339,
//     53.2641620007202,
//     49.2228378131688,
//     48.0814957246039,
//     50.9133399063649,
//     53.9510921621052,
//     53.5284493555633,
//     56.4961784401461,
//     56.0568842478871,
//     68.921392978878,
//     74.0920967724873,
//     79.9977479625574,
//     78.1901606403082,
//     77.5949057329551,
//     79.6804554579261,
//     80.4528921117309,
//     82.4385494241743,
//     83.9752187415714,
//     85.416501487228,
//     86.3490294950753,
//     88.7234765775783
//   ],
//   [
//     "Aguascalientes",
//     25.8264462809917,
//     22.0531480868894,
//     25.7352941176471,
//     47.6539589442815,
//     18.5301856724604,
//     37.8171916953447,
//     48.784148904233,
//     33.729340778773,
//     14.986886474335,
//     44.7777902160528,
//     25.8436092446282,
//     18.31099392075,
//     43.8933391857786,
//     21.9844643118863,
//     55.0943950635422,
//     66.1618760567522,
//     77.1916927035471,
//     33.061494379546,
//     44.0625688477638,
//     36.7498438131638,
//     51.5710759936641,
//     44.3885477546793,
//     18.5921987134198,
//     44.974139869575,
//     45.4081053468044,
//     22.9876249952109
//   ],
//   [
//     "Baja California",
//     32.0496601049205,
//     28.9209098177983,
//     42.3325219599958,
//     30.9624150683753,
//     37.0664548583532,
//     42.5637569609477,
//     52.6611430978795,
//     42.4268137462876,
//     39.256272081653,
//     41.2519056586853,
//     50.5625079003919,
//     60.3389954471485,
//     40.7196268601466,
//     31.7721377041827,
//     43.2444628285639,
//     56.5216572149895,
//     43.3814930778226,
//     49.0436488474743,
//     32.0918203613161,
//     30.374940673944,
//     25.02357991184,
//     23.6266981689309,
//     32.3722812341932,
//     24.9885469159968,
//     59.9097075122494,
//     52.9801324503311
//   ],
//   [
//     "Baja California Sur",
//     24.2974001781809,
//     15.8704967465482,
//     32.1104599823392,
//     23.2828870779977,
//     31.6906987799081,
//     35.1772051710492,
//     44.8994252873563,
//     45.7540263543192,
//     74.57816724154,
//     37.9218809252939,
//     28.8822566669876,
//     39.066315069831,
//     89.0912690556326,
//     60.1142170123234,
//     20.2552157180474,
//     20.4060810121416,
//     41.101520756268,
//     72.5163161711385,
//     73.1376031762616,
//     10.5429625724829,
//     31.9454797146204,
//     0,
//     54.4010445000544,
//     32.9380764163373,
//     0,
//     33.925138527649
//   ],
//   [
//     "Campeche",
//     46.5197418154329,
//     17.9759122775481,
//     65.3983353151011,
//     42.8475240252188,
//     63.1392852632908,
//     49.4132180358246,
//     49.5662949194548,
//     43.6626746506986,
//     18.8418540384374,
//     63.187160369013,
//     69.8102430665736,
//     44.5888273138416,
//     57.4859478794073,
//     70.3189925206162,
//     25.552574421873,
//     57.3357966490412,
//     56.9944905325818,
//     62.6370184779205,
//     74.3172106273611,
//     98.1233901631301,
//     139.936724263811,
//     115.102683709941,
//     102.843315184513,
//     97.1699259079315,
//     55.2214995704994,
//     62.4531601299026
//   ],
//   [
//     "Coahuila de Zaragoza",
//     28.3031433137986,
//     36.9561565597178,
//     27.0064984386868,
//     34.3932176574779,
//     39.4937617808096,
//     44.3098737168599,
//     27.5669417234852,
//     34.8036342321219,
//     23.7273905345964,
//     25.4111155479726,
//     43.3275563258232,
//     26.9735659054127,
//     37.580529706514,
//     40.9442090646918,
//     47.8206195426932,
//     42.2840430592505,
//     40.3232875751679,
//     71.5769626926904,
//     31.2978161079427,
//     48.5874921912959,
//     39.8724082934609,
//     43.3418283316863,
//     45.1624109779399,
//     20.9478921183556,
//     26.3750175833451,
//     12.4159704854644
//   ],
//   [
//     "Colima",
//     22.2667557336896,
//     29.3944738389183,
//     22.4786452869774,
//     23.5700817096166,
//     39.329819869425,
//     0,
//     22.8641109671519,
//     30.4854812895359,
//     15.3539075694764,
//     46.5116279069767,
//     7.82533844588778,
//     31.5930811152358,
//     23.967404330111,
//     16.1576991436419,
//     8.14597588791137,
//     57.1801993138376,
//     32.626427406199,
//     32.4543610547667,
//     80.3406443319675,
//     71.3266761768902,
//     39.1205695954933,
//     31.0342152222826,
//     100.177236649457,
//     38.2848392036753,
//     114.51255821055,
//     45.8435207823961
//   ],
//   [
//     "Chiapas",
//     68.4651361300304,
//     68.1162753666779,
//     54.7698341887439,
//     60.5806836708331,
//     51.8380923582012,
//     60.1931414713297,
//     61.498484192291,
//     79.2086027430284,
//     66.6826249016859,
//     69.5256990724254,
//     68.8589567028316,
//     79.8894862107418,
//     87.4868975990624,
//     76.9514141868937,
//     92.6211793763507,
//     71.8535801651825,
//     98.1204307647764,
//     89.8977413192494,
//     93.9298817446873,
//     82.2249093107618,
//     104.814989355997,
//     110.098677994232,
//     124.350083039149,
//     139.162310773199,
//     142.016112373477,
//     121.398440161049
//   ],
//   [
//     "Chihuahua",
//     43.104067587178,
//     56.4628214037526,
//     59.7780920582618,
//     46.6628753080479,
//     67.7157704140967,
//     57.0058759902944,
//     78.611857526728,
//     54.1133246941885,
//     65.4506132437893,
//     61.2841160122568,
//     81.7169154014881,
//     49.1770083022361,
//     48.2216442119414,
//     73.8301610974115,
//     80.5717610898077,
//     70.8193954735859,
//     77.8709175026339,
//     50.9683995922528,
//     98.0651588499914,
//     92.2581351347125,
//     53.391959798995,
//     59.9350178227816,
//     71.5580574372674,
//     70.7111289674568,
//     48.6255186721992,
//     103.156929525806
//   ],
//   [
//     "Ciudad de México",
//     44.3322065564167,
//     41.8644637984525,
//     41.9234786190259,
//     40.1459592375135,
//     40.7821432472782,
//     55.1732148561141,
//     51.4377567422754,
//     48.5665819684247,
//     61.7733819191393,
//     53.2172560364061,
//     53.721921901756,
//     57.7336554030738,
//     64.9137761458265,
//     49.8972893459567,
//     70.4536575055562,
//     80.9865170103321,
//     104.193962989306,
//     102.606953925177,
//     88.2399158698884,
//     96.3803812379524,
//     83.1571611784892,
//     102.646314247654,
//     106.563277614343,
//     102.873221266397,
//     109.751502940357,
//     104.758732580503
//   ],
//   [
//     "Durango",
//     31.1438278595697,
//     71.2210130476896,
//     41.2416485661654,
//     52.5152017689331,
//     35.9225178921772,
//     44.1982438564441,
//     37.9395885013863,
//     66.6357631243481,
//     40.2854511970534,
//     74.1353254825924,
//     39.4477317554241,
//     66.6981630214268,
//     52.1405049396268,
//     37.9331834069418,
//     48.1412142284033,
//     47.438330170778,
//     54.4478726438331,
//     46.0346282703767,
//     55.534519752619,
//     39.9740168890221,
//     47.096150509382,
//     56.9349209099686,
//     37.0773185683211,
//     29.570488652325,
//     27.0609363083963,
//     73.9681443858179
//   ],
//   [
//     "Guanajuato",
//     31.1944889736147,
//     27.6725643819506,
//     34.9159037683628,
//     34.8232718951322,
//     34.9760996652288,
//     36.233134338659,
//     51.4442986855982,
//     33.2577217607832,
//     33.9287834834682,
//     36.1773193447699,
//     34.8513011152416,
//     43.4166441391626,
//     50.3357066889659,
//     46.6485434394454,
//     43.7702934997135,
//     62.0060122285275,
//     65.7441855068877,
//     61.8155454649521,
//     53.4952758397251,
//     58.166849370232,
//     65.7122394583539,
//     63.0249021648321,
//     59.0615771628568,
//     89.0283504214252,
//     67.2067557399683,
//     91.8996980438493
//   ],
//   [
//     "Guerrero",
//     49.4729753871947,
//     58.7054759921908,
//     59.4112881447475,
//     75.8663668138835,
//     90.0936190215049,
//     69.3898926420529,
//     87.5318590222176,
//     78.8844215990636,
//     80.3909007549208,
//     103.861419192107,
//     103.092783505155,
//     82.0715330724489,
//     99.362908410778,
//     88.4823552394195,
//     115.191760401138,
//     113.089562498614,
//     117.359413202934,
//     132.294889576443,
//     100.879543520066,
//     144.285165616534,
//     93.5530630917745,
//     140.286922596434,
//     99.4708560646458,
//     85.455125763176,
//     81.6841408689538,
//     94.198423746376
//   ],
//   [
//     "Hidalgo",
//     32.313657906075,
//     65.5105271777701,
//     37.5127275325557,
//     37.830339932626,
//     28.8584672546579,
//     52.0636972406241,
//     53.4616412723871,
//     49.9848260349537,
//     53.5198201734042,
//     46.072333563695,
//     64.9772579597141,
//     59.3699797443599,
//     55.7054573940291,
//     53.7979626190931,
//     51.8528761061947,
//     55.0102284643551,
//     87.260034904014,
//     59.5977999897832,
//     67.462726843419,
//     71.5664736036216,
//     95.2021404067429,
//     89.3742179755927,
//     88.7053852232957,
//     125.172513399878,
//     96.0445646780106,
//     116.701037520183
//   ],
//   [
//     "Jalisco",
//     24.6901726254569,
//     34.3790287924366,
//     22.4125088166855,
//     23.3884694845441,
//     23.4050437869361,
//     32.2980029068203,
//     54.1447469568647,
//     34.7431014899445,
//     30.7435254803676,
//     51.4561419922214,
//     34.6560388147635,
//     43.8110284307022,
//     37.0991142586471,
//     33.0545731001884,
//     46.1345811639096,
//     56.4045385977569,
//     52.1206593263405,
//     47.2412409562145,
//     65.4454460877097,
//     40.0368593308125,
//     44.6906275571222,
//     37.4990625234369,
//     50.2880699314592,
//     50.04479317908,
//     40.0596580754108,
//     54.8488882315239
//   ],
//   [
//     "México",
//     30.8805507790025,
//     33.9035290491601,
//     36.0740630857821,
//     42.6880325742525,
//     42.8929432664834,
//     38.9497319341979,
//     54.4551532289282,
//     50.5158189959161,
//     47.1449477967922,
//     48.7897521873526,
//     64.6064744214113,
//     64.9084561294235,
//     68.9222852004162,
//     63.0960440094907,
//     100.379467297686,
//     95.5531539130664,
//     107.52191666062,
//     111.113309198336,
//     100.948654291962,
//     106.293706293706,
//     100.369452029015,
//     110.109147350582,
//     95.996574895725,
//     95.7528228539061,
//     120.477021129294,
//     112.723734342022
//   ],
//   [
//     "Michoacán de Ocampo",
//     34.30455807983,
//     47.704750959516,
//     36.7442495249493,
//     41.6953322075594,
//     57.8855395369157,
//     53.8615428583991,
//     44.6297364668488,
//     47.7466821481666,
//     42.2443674176776,
//     57.1342331076711,
//     49.1442490545074,
//     41.2807621063774,
//     49.3920573368223,
//     40.6101942000312,
//     61.7499948541671,
//     61.8705181909466,
//     74.7309685133519,
//     82.1949978472739,
//     74.7763898342457,
//     59.1538187076299,
//     83.6812388501646,
//     59.7831502096939,
//     74.2795775908359,
//     87.7511766635053,
//     54.5779452283911,
//     49.1456554362993
//   ],
//   [
//     "Morelos",
//     36.6132723112128,
//     9.05305087814594,
//     44.516990651432,
//     39.0202905510866,
//     40.0036926485522,
//     29.2757187188945,
//     67.2239434149763,
//     44.12673197423,
//     44.3721342996598,
//     50.3435204927742,
//     68.0392852916815,
//     41.4005204636858,
//     82.9777145566619,
//     74.1399762752076,
//     82.7961440652907,
//     67.4111199038659,
//     66.6261116421888,
//     105.986823259811,
//     87.390409607307,
//     132.842553898099,
//     100.611828687967,
//     91.4076782449726,
//     93.4629352702414,
//     93.0183113189997,
//     47.933532168726,
//     91.388022793248
//   ],
//   [
//     "Nayarit",
//     66.9254450542096,
//     28.5252448416849,
//     36.0864269926474,
//     45.4566116641666,
//     45.9221160911095,
//     37.8196946059661,
//     56.7161357406182,
//     42.9061784897025,
//     24.0812984636132,
//     34.1580051724979,
//     88.6830566093511,
//     49.3339911198816,
//     74.1070105231955,
//     78.9889415481832,
//     64.0078778926637,
//     73.3173664401975,
//     77.3133607151486,
//     81.2231247013856,
//     94.3084830480502,
//     18.5985958060166,
//     114.489833302803,
//     45.3453044937197,
//     36.0117038037362,
//     53.6840692524493,
//     40.1534755063799,
//     58.064227969092
//   ],
//   [
//     "Nuevo León",
//     23.5045246209895,
//     17.5619607929225,
//     14.7757495851424,
//     26.5594630159478,
//     29.3341155764154,
//     16.4826108455579,
//     29.3861814420387,
//     27.0152812525694,
//     19.9645335932637,
//     28.2269920611585,
//     23.5413209035159,
//     14.1161524073922,
//     11.7853649338252,
//     26.0068800018914,
//     26.1031549222245,
//     53.5956742335819,
//     46.6473698059948,
//     44.4722228899733,
//     41.0548686244204,
//     25.4724533611509,
//     23.1256085686465,
//     24.5134088346325,
//     28.4213778189682,
//     24.8259083179206,
//     32.4229953859584,
//     40.1123144805455
//   ],
//   [
//     "Oaxaca",
//     48.5672656629432,
//     46.6601178781925,
//     50.3524672708963,
//     65.2580772261623,
//     61.2820198553744,
//     71.2990936555891,
//     79.1006495841224,
//     79.8531655225019,
//     82.909900626562,
//     63.3475669841866,
//     80.9323405632891,
//     73.0677017924421,
//     56.512500565125,
//     89.2339267389462,
//     86.800786700801,
//     107.142857142857,
//     91.6131368977235,
//     92.3574232278919,
//     129.537705835415,
//     148.510795198492,
//     132.773858752939,
//     150.039775645221,
//     151.521233041663,
//     139.076492070639,
//     204.728834651359,
//     175.20761596111
//   ],
//   [
//     "Puebla",
//     32.3018282834808,
//     37.6355082839026,
//     31.8425703322772,
//     50.6493403714813,
//     48.0973032901816,
//     44.8215638089056,
//     60.0374079233984,
//     47.4921101816956,
//     44.2606187329253,
//     47.7634571645186,
//     55.4789180111558,
//     64.6619000193242,
//     65.7637087776078,
//     64.6170339312857,
//     93.4027043001729,
//     75.3093839837216,
//     74.1268504724687,
//     81.014037653604,
//     70.7344955701629,
//     106.817065094319,
//     140.168483926408,
//     107.535140947845,
//     106.055710854205,
//     109.989143007174,
//     120.084058841189,
//     123.118128604445
//   ],
//   [
//     "Querétaro",
//     14.9042402563529,
//     34.5074067683814,
//     35.0262697022767,
//     19.8014900621272,
//     40.1626587680104,
//     34.6574246867502,
//     31.8750498047653,
//     42.3829832322323,
//     44.6898002103049,
//     52.5044628793447,
//     39.4093846881404,
//     47.1142520612485,
//     44.3933775526192,
//     49.4469746258946,
//     64.7534189805222,
//     97.7944771855779,
//     63.9860766297254,
//     73.9022960678882,
//     65.9597138363184,
//     42.9781317153331,
//     75.6811301715439,
//     103.488313392902,
//     108.690157221576,
//     78.5506144685164,
//     63.6051392952551,
//     74.2789816095487
//   ],
//   [
//     "Quintana Roo",
//     20.7261045286538,
//     27.7922529095015,
//     46.1778914464336,
//     50.3995968032256,
//     50.0269375817748,
//     49.4221411192214,
//     38.6877127824203,
//     67.6994145991796,
//     56.1775209662534,
//     54.2820159505616,
//     57.8574925452846,
//     50.5004131851988,
//     66.0595479639504,
//     57.9318335425316,
//     88.6088411932657,
//     115.218915940287,
//     86.4875864875865,
//     77.3953872349208,
//     52.2111418576724,
//     58.0720092915215,
//     74.5156482861401,
//     64.405324173465,
//     108.201687946332,
//     92.8099579625485,
//     60.8474388759819,
//     33.781881650808
//   ],
//   [
//     "San Luis Potosí",
//     30.1284224004821,
//     24.1053217133321,
//     31.7792649642951,
//     40.7414952128743,
//     44.6919051786745,
//     40.6489043272606,
//     51.34223265366,
//     31.0740659501353,
//     54.6527727173359,
//     34.4040850324123,
//     44.7771887089841,
//     56.6632432623862,
//     66.5033251662583,
//     72.5814813534718,
//     93.9464334517628,
//     75.9455217457344,
//     78.4117450784117,
//     56.0741498169344,
//     71.6484017521291,
//     72.4952878062926,
//     79.7511763298509,
//     74.4755023134943,
//     104.258814608871,
//     127.836873836053,
//     82.140713360503,
//     93.5290574173298
//   ],
//   [
//     "Sinaloa",
//     22.130830090552,
//     31.4105169801559,
//     26.6936145060728,
//     41.4906457453229,
//     16.8221154744771,
//     32.6435864420304,
//     32.353734160151,
//     32.1589366111627,
//     44.4152290937517,
//     35.3575532573146,
//     40.4040404040404,
//     31.3534227486501,
//     19.0153505739179,
//     32.605151613955,
//     27.2716426051237,
//     57.5646756061222,
//     52.0938361228742,
//     41.7264746136128,
//     46.4137119366121,
//     31.3185092389602,
//     21.3464696223317,
//     24.6325642499384,
//     32.9386188837102,
//     36.3949179460032,
//     49.8943902073944,
//     26.8163915193162
//   ],
//   [
//     "Sonora",
//     32.1957501609787,
//     33.7280767501124,
//     40.1729349198454,
//     33.1500331500332,
//     40.3981049616218,
//     23.0304193455523,
//     40.0015238675759,
//     26.6407870449658,
//     38.066959782257,
//     47.7837879164357,
//     36.4466440313825,
//     34.5231017088935,
//     34.56685806464,
//     44.2401277193252,
//     53.9218518304543,
//     42.3785949569472,
//     48.2355438075209,
//     40.5718701700155,
//     56.0559786600688,
//     65.7525769208455,
//     48.45712513568,
//     64.2873840878984,
//     64.5337922403004,
//     80.5453509616329,
//     57.4302915082383,
//     44.0123234505662
//   ],
//   [
//     "Tabasco",
//     41.653443351317,
//     40.6561909214726,
//     27.4235568353215,
//     34.1598681830969,
//     41.3809411208323,
//     29.6754774572355,
//     48.5006958795496,
//     58.7248322147651,
//     47.9816418066131,
//     43.555813664081,
//     43.0725053840632,
//     42.73591241173,
//     44.7636681791361,
//     30.4537610394884,
//     18.2009383594888,
//     50.3332058225452,
//     88.2524018693463,
//     76.0182443786509,
//     85.884914214952,
//     43.8587747453201,
//     37.7981578371496,
//     65.6037533298875,
//     47.7554918815664,
//     27.8712348947861,
//     49.830576041459,
//     45.9770114942529
//   ],
//   [
//     "Tamaulipas",
//     32.0124005930718,
//     28.4881187786976,
//     41.7222963951936,
//     25.9647528480088,
//     15.7311855021394,
//     41.3328246216457,
//     37.5957516800602,
//     50.8552935737402,
//     37.8655922935947,
//     53.2846159701606,
//     47.8771872924678,
//     40.6764811714827,
//     34.8029677439767,
//     36.6697490513695,
//     61.0883369504059,
//     69.6322445873075,
//     80.1334467194348,
//     75.8050163145579,
//     59.6214040840662,
//     43.2518756342222,
//     26.7827251422832,
//     30.3925707049388,
//     32.229063830509,
//     22.0930627782876,
//     39.2384331923024,
//     34.3229792345976
//   ],
//   [
//     "Tlaxcala",
//     20.0843542880096,
//     51.3651270299103,
//     23.1633401536502,
//     59.4397800728137,
//     27.2957691557809,
//     55.2638850511191,
//     43.36000630691,
//     23.5821247494399,
//     27.4337670481267,
//     54.6277508974559,
//     54.2257339840421,
//     46.2160600808781,
//     61.4958874625259,
//     72.9142681710031,
//     84.24599831508,
//     64.9350649350649,
//     99.2517941670484,
//     91.7185768334161,
//     133.74603538538,
//     99.3617915695341,
//     149.213758273712,
//     80.5770854117105,
//     77.2081531809759,
//     112.779030878121,
//     90.2562492642154,
//     126.818055720683
//   ],
//   [
//     "Veracruz de Ignacio de la Llave",
//     29.8630565549409,
//     43.4462444771723,
//     46.3956388099519,
//     51.0193235688017,
//     56.3247084674812,
//     54.6639568294905,
//     64.7231172880318,
//     67.8510599997231,
//     68.087564734768,
//     53.7806430531067,
//     55.0018110352414,
//     66.0039866407931,
//     60.9574205932324,
//     71.892555621298,
//     66.1858824263994,
//     85.6127734257951,
//     97.5463794135248,
//     83.2810383151425,
//     73.6928161018803,
//     104.301885936818,
//     101.955643693035,
//     106.304822120308,
//     117.306943903931,
//     118.746968607315,
//     106.261010598138,
//     129.132231404959
//   ],
//   [
//     "Yucatán",
//     32.5675777237768,
//     42.4194031340453,
//     50.8414255935736,
//     50.0588191124571,
//     35.5862840293841,
//     30.7015299595763,
//     38.4319754035357,
//     38.6946988262608,
//     51.9386085646766,
//     26.0919480248395,
//     49.6615175514258,
//     44.4921353607789,
//     54.9853372434018,
//     75.7259243785252,
//     59.7713097713098,
//     82.6916119696108,
//     51.3610683102209,
//     68.770535646061,
//     88.1856433772582,
//     87.1253609479239,
//     90.9985243482538,
//     90.0703522481073,
//     108.706155184076,
//     84.0295784116009,
//     102.642446232067,
//     69.4095402216318
//   ],
//   [
//     "Zacatecas",
//     32.5531430059572,
//     32.5023564208405,
//     44.1501103752759,
//     32.0482004935423,
//     39.1274576934364,
//     38.109756097561,
//     53.2347967683347,
//     37.4648766781143,
//     31.1817898347365,
//     43.4742104772847,
//     24.5632349780466,
//     27.345649003403,
//     66.551713706628,
//     48.063925020277,
//     53.6177057579458,
//     70.5363703159442,
//     57.7200577200577,
//     56.7762448191677,
//     91.942494149114,
//     60.1734088236099,
//     59.146144746747,
//     66.5335994677312,
//     68.6015831134565,
//     54.8861765243982,
//     85.5343303698712,
//     54.1320822807651
//   ]
// ];



estados = [
  [
    "Entidad",
    "1997-01-01",
    "1998-01-01",
    "1999-01-01",
    "2000-01-01",
    "2001-01-01",
    "2002-01-01",
    "2003-01-01",
    "2004-01-01",
    "2005-01-01",
    "2006-01-01",
    "2007-01-01",
    "2008-01-01",
    "2009-01-01",
    "2010-01-01",
    "2011-01-01",
    "2012-01-01",
    "2013-01-01",
    "2014-01-01",
    "2015-01-01",
    "2016-01-01",
    "2017-01-01",
  ],
  [
    "Estados Unidos Mexicanos",
    16.866,
    14.216,
    14.619,
    13.849,
    13.855,
    13.148,
    12.676,
    11.658,
    11.246,
    11.806,
    10.253,
    13.155,
    16.118,
    20.143,
    22.409,
    21.459,
    18.106,
    15.52,
    16.909,
    20.547,
    25.34,
  ],
  [
    "Aguascalientes",
    355,
    66,
    27,
    14,
    22,
    26,
    21,
    17,
    19,
    26,
    49,
    63,
    66,
    74,
    74,
    44,
    40,
    42,
    38,
    37,
    82,
  ],
  [
    "Baja California",
    492,
    292,
    657,
    460,
    456,
    466,
    479,
    470,
    539,
    483,
    511,
    853,
    750,
    884,
    673,
    590,
    775,
    714,
    830,
    1.18,
    2.092,
  ],
  [
    "Baja California Sur",
    60,
    18,
    31,
    31,
    25,
    28,
    24,
    36,
    34,
    20,
    28,
    28,
    31,
    48,
    38,
    35,
    56,
    70,
    151,
    192,
    560,
  ],
  [
    "Campeche",
    130,
    117,
    78,
    55,
    52,
    52,
    55,
    37,
    51,
    28,
    36,
    45,
    41,
    59,
    59,
    69,
    67,
    65,
    53,
    84,
    67
  ],
  [
    "Coahuila de Zaragoza",
    175,
    165,
    139,
    113,
    118,
    131,
    116,
    103,
    139,
    109,
    121,
    179,
    240,
    407,
    660,
    771,
    645,
    390,
    294,
    226,
    231,
  ],
  [
    "Colima",
    99,
    89,
    53,
    45,
    56,
    45,
    34,
    45,
    35,
    31,
    30,
    33,
    52,
    93,
    165,
    287,
    178,
    99,
    167,
    524,
    700,
  ],
  [
    "Chiapas",
    1.357,
    1.399,
    1.452,
    1.27,
    1.252,
    1.056,
    921,
    787,
    415,
    358,
    358,
    326,
    499,
    513,
    613,
    573,
    503,
    409,
    502,
    468,
    475,
  ],
  [
    "Chihuahua",
    677,
    584,
    425,
    437,
    480,
    528,
    471,
    444,
    550,
    593,
    617,
    2.03,
    3.156,
    3.903,
    3.085,
    1.997,
    1.443,
    1.086,
    945,
    1.232,
    1.578,
  ],
  [
    "Ciudad de México",
    977,
    947,
    880,
    709,
    807,
    748,
    715,
    710,
    698,
    649,
    714,
    713,
    747,
    811,
    779,
    779,
    749,
    749,
    854,
    952,
    1.085,
    
  ],
  [
    "Durango",
    61,
    134,
    291,
    268,
    321,
    232,
    216,
    120,
    189,
    205,
    250,
    430,
    930,
    1.024,
    764,
    618,
    476,
    315,
    238,
    238,
    225,
    
  ],
  [
    "Guanajuato",
    567,
    230,
    259,
    219,
    233,
    208,
    213,
    194,
    213,
    242,
    229,
    257,
    414,
    437,
    604,
    771,
    641,
    709,
    879,
    961,
    1.096,
    
  ],
  [
    "Guerrero",
    1.273,
    1.306,
    1.242,
    1.399,
    1.255,
    1.035,
    808,
    539,
    755,
    837,
    800,
    951,
    1.431,
    1.5,
    2.158,
    2.31,
    2.087,
    1.514,
    2.016,
    2.213,
    2.318,
   
  ],
  [
    "Hidalgo",
    360,
    250,
    199,
    115,
    148,
    129,
    113,
    123,
    118,
    101,
    147,
    139,
    137,
    134,
    111,
    83,
    123,
    141,
    143,
    151,
    200,
    
  ],
  [
    "Jalisco",
    600,
    604,
    545,
    486,
    488,
    431,
    424,
    370,
    384,
    425,
    389,
    462,
    570,
    888,
    1.222,
    1.184,
    1.099,
    907,
    1.019,
    1.153,
    1.369,
    
  ],
  [
    "México",
    3.037,
    2.221,
    2.966,
    2.726,
    2.862,
    2.87,
    2.741,
    2.855,
    2.313,
    2.766,
    1.127,
    1.261,
    1.345,
    1.153,
    1.512,
    2.13,
    1.932,
    1.994,
    2.07,
    2.053,
    2.041,
    
  ],
  [
    "Michoacán de Ocampo",
    757,
    1.022,
    575,
    487,
    475,
    428,
    440,
    446,
    427,
    661,
    527,
    565,
    728,
    661,
    773,
    755,
    902,
    904,
    777,
    1.287,
    1.277,
    
  ],
  [
    "Morelos",
    178,
    216,
    344,
    352,
    193,
    226,
    173,
    219,
    160,
    159,
    113,
    135,
    317,
    559,
    556,
    862,
    597,
    416,
    495,
    616,
    602,
    
  ],
  [
    "Nayarit",
    132,
    165,
    146,
    121,
    127,
    117,
    95,
    109,
    93,
    94,
    108,
    147,
    148,
    367,
    456,
    244,
    151,
    110,
    83,
    39,
    255,
  ],
  [
    "Nuevo León",
    163,
    160,
    131,
    123,
    140,
    124,
    135,
    117,
    143,
    180,
    283,
    263,
    267,
    828,
    2.003,
    1.459,
    719,
    490,
    451,
    644,
    656,
  ],
  [
    "Oaxaca",
    788,
    14,
    823,
    1.292,
    1.311,
    1.427,
    1.571,
    1.13,
    1.053,
    1.077,
    948,
    733,
    752,
    666,
    641,
    472,
    536,
    640,
    752,
    870,
    919,
  ],
  [
    "Puebla",
    729,
    675,
    575,
    573,
    502,
    463,
    488,
    468,
    341,
    415,
    401,
    429,
    414,
    415,
    619,
    578,
    409,
    338,
    499,
    590,
    919,
  ],
  [
    "Querétaro",
    234,
    39,
    55,
    62,
    86,
    71,
    71,
    62,
    68,
    52,
    57,
    58,
    90,
    59,
    98,
    110,
    111,
    103,
    139,
    119,
    176,
  ],
  [
    "Quintana Roo",
    335,
    117,
    123,
    245,
    252,
    194,
    228,
    138,
    119,
    119,
    176,
    192,
    177,
    234,
    269,
    250,
    214,
    172,
    228,
    165,
    359,
  ],
  [
    "San Luis Potosí",
    301,
    297,
    414,
    254,
    195,
    245,
    121,
    199,
    176,
    131,
    153,
    218,
    158,
    417,
    402,
    396,
    261,
    229,
    241,
    306,
    469,
  ],
  [
    "Sinaloa",
    669,
    643,
    564,
    501,
    551,
    485,
    482,
    515,
    609,
    602,
    741,
    1.156,
    1.251,
    1.714,
    1.46,
    1.191,
    981,
    846,
    855,
    961,
    1.332,
  ],
  [
    "Sonora",
    526,
    555,
    292,
    194,
    185,
    165,
    203,
    250,
    275,
    238,
    308,
    393,
    498,
    654,
    472,
    501,
    575,
    568,
    512,
    570,
    693,
  ],
  [
    "Tabasco",
    353,
    368,
    229,
    210,
    169,
    141,
    150,
    120,
    84,
    166,
    193,
    148,
    117,
    143,
    162,
    124,
    140,
    168,
    233,
    276,
    388, 
  ],
  [
    "Tamaulipas",
    473,
    428,
    253,
    221,
    165,
    184,
    244,
    225,
    357,
    346,
    265,
    308,
    288,
    721,
    855,
    1.016,
    556,
    628,
    533,
    595,
    805,
  ],
  [
    "Tlaxcala",
    63,
    49,
    163,
    280,
    352,
    309,
    286,
    260,
    350,
    187,
    0,
    42,
    48,
    48,
    71,
    59,
    70,
    61,
    59,
    77,
    122,
  ],
  [
    "Veracruz de Ignacio de la Llave",
    722,
    707,
    590,
    465,
    467,
    450,
    501,
    465,
    459,
    434,
    478,
    477,
    347,
    583,
    890,
    968,
    863,
    487,
    565,
    1.258,
    1.641,
  ],
  [
    "Yucatán",
    110,
    23,
    8,
    26,
    16,
    30,
    32,
    30,
    22,
    22,
    30,
    47,
    33,
    36,
    46,
    38,
    40,
    42,
    53,
    50,
    46,
    
  ],
  [
    "Zacatecas",
    113,
    316,
    90,
    96,
    94,
    104,
    105,
    55,
    58,
    50,
    66,
    74,
    76,
    110,
    119,
    195,
    167,
    114,
    235,
    460,
    562,
  ]
];




    console.log(estados);
    console.log(atributos);

    function getRandomInt(min, max) {
      return Math.floor(Math.random() * (max - min)) + min;
    }

    function getRandomInt(min, max) {
      return Math.floor(Math.random() * (max - min)) + min;
    }


    // docuemento general
    $(document).ready(function () {

      $('#cam_bus').keypress(function(e) {
          if(e.which == 13) {
            buscar($('#cam_bus').val());
          }
      });

      var img = ['fondo1.jpg','fondo2.jpg','fondo3.jpg'];
          // function rotarImagen(){
             setTimeout(function(){

              var rand = img[Math.floor(Math.random() * img.length)];
              $('.imagen').attr({style: "background-image:url('img/"+rand+"') !important;"});
    }, 3000);

    $("body").iealert({
      support: "ie9",
      title: "Actualiza tu navegador",
      text: "Esta plataforma funciona de forma adecuada si es consultada en alguno de los siguientes navegadores: Chrome, Edge, Firefox o Safari"
    });



      $(".button-collapse").sideNav();
      $('body').sectionScroll(); // Easy Peasy Lemon Squeezy
      $('.bullets-container').hide(); //oculta los bullets para que no se vean en la parte del header
      $('.modal-trigger').leanModal();
     
      $('.tooltipped').tooltip(
        {
          delay: 500,
          tooltip: 'some text',
          html: true
        }
      );

      $('.tooltipped2').tooltip(
        {
          delay: 500,
          tooltip: 'some text',
          html: true
        }
      );

      titulo_des_graf = atributos.DescripInd_des;

      $('#loader').delay(2000).fadeOut("slow");
    });

                            var lupa = false;

                            function esconder() {
                              $('#cam_bus').hide();
                              $('#buscar').show();
                              lupa = false;
                            }

                            window.onload = function () {

                              $('#buscar').click(function () {
                                if (lupa) {
                                  $('#cam_bus').hide();
                                  lupa = false;
                                } else {
                                  $('#cam_bus').show();
                                  $('#buscar').hide();
                                  document.getElementById("cam_bus").focus();
                                  lupa = true;
                                }
                              });

                              var idioma = navigator.language || navigator.userLanguage;
                              
                              var ln = x = window.navigator.language || navigator.browserLanguage;
                            }
  </script>

  <script>
                            function gen(props) {
                              var chart = c3.generate({
                                bindto: '.info',
                                padding: {
                                  top: 10,
                                  left: 30,
                                  right: 10
                                },
                                data: {
                                  x: 'Entidad',
                                  columns: [
                                    ['Entidad', '2016-01-01', '2015-01-01', '2014-01-01', '2013-01-01', '2012-01-01', '2011-01-01', '2010-01-01', '2009-01-01', '2008-01-01', '2007-01-01', '2006-01-01', '2005-01-01', '2004-01-01', '2003-01-01', '2002-01-01', '2001-01-01', '2000-01-01', '1999-01-01', '1998-01-01', '1997-01-01', '1996-01-01', '1995-01-01', '1994-01-01', '1993-01-01', '1992-01-01', '1991-01-01', '1990-01-01'],
                                    props,
                                    busqueda_mexico(),
                                  ]
                                },
                                tooltip: {
                                  format: {
                                      value: function(value) {
                                          return d3.format(",.2f")(value)
                                      }
                                  }
                                },
                                axis: {
                                  x: {
                                    type: 'timeseries',
                                    tick: {
                                      rotate: -90,
                                      format: function (x) { return x.getFullYear(); }
                                    },
                                    height: 35,
                                  },
                                  y: {
                                    tick: {
                                      format: d3.format(".0f")
                                    }
                                  }
                                },
                                color: {
                                  pattern: ['#00AEEF', 'rgba(255,0,0,0.8)']
                                },
                                size: {
                                  width: 260,
                                  height: 200
                                },
                                legend: {
                                  show: false
                                },
                                grid: {
                                  x: {
                                    show: false
                                  },
                                  y: {
                                    show: true
                                  }
                                }

                              });
                            }
  </script>




  <script type="text/javascript">
    var estados2 = [
      ['x', '2009-01-01', '2010-01-01', '2011-01-01', '2012-01-01', '2013-01-01'],
      ['Aguascalientes', '122.24', '104.54', '120.4', '122.8', '110.4'],
      ['Baja California', '93.05', '108.39', '92.3', '86.6', '86.8'],
      ['Baja California Sur', '54.22', '53.06', '57', '64.8', '68.6'],
      ['Campeche', '4.76', '4.78', '6.6', '5.8', '4.5'],
      ['Chiapas', '15.8', '20.36', '16.6', '18.9', '18.5'],
      ['Chihuahua', '64.18', '68.05', '68.1', '72.8', '74.4'],
      ['Coahuila de Zaragoza', '46.07', '48.3', '45.1', '46.4', '45.2'],
      ['Colima', '43.64', '51', '51.7', '52.1', '59.6'],
      ['Ciudad de México', '14.22', '14.82', '14.8', '13.9', '13.6'],
      ['Durango', '57.85', '59.15', '61.8', '65', '60.6'],
      ['Guanajuato', '46.08', '45.38', '46.6', '50.2', '59'],
      ['Guerrero', '47.93', '60.49', '56.4', '57.6', '74.2'],
      ['Hidalgo', '9.66', '12', '12', '6.8', '5.4'],
      ['Jalisco', '23.37', '25.75', '35.5', '46.3', '51.9'],
      ['México', '20.04', '23.64', '24.8', '28', '28.4'],
      ['Michoacán', '26.06', '26.59', '26.4', '27.3', '32.1'],
      ['Morelos', '18.82', '18.79', '25.4', '26.4', '23.5'],
      ['Nayarit', '65.34', '72.86', '72.9', '83.4', '104.1'],
      ['Nuevo León', '118.42', '112.14', '108.3', '109.5', '117.2'],
      ['Oaxaca', '27.4', '28.18', '27.6', '28.4', '33.3'],
      ['Puebla', '35.49', '36.59', '46.1', '43', '53.9'],
      ['Querétaro', '22.65', '41.51', '41.3', '42.3', '45.5'],
      ['Quintana Roo', '60.49', '57.37', '61.5', '55.6', '55.6'],
      ['San Luis Potosí­', '47.74', '48.66', '47.7', '49.1', '53.2'],
      ['Sinaloa', '61.82', '66.08', '68.8', '71.6', '68'],
      ['Sonora', '31.65', '31.76', '32', '34.9', '34.6'],
      ['Tabasco', '18.31', '19.93', '19.9', '20.7', '25.3'],
      ['Tamaulipas', '53.87', '59.85', '73.4', '75.6', '71.8'],
      ['Tlaxcala', '53.49', '54.42', '49.1', '48.4', '43.1'],
      ['Veracruz de Ignacio de la Llave', '25.73', '28.14', '32.7', '34.9', '39.6'],
      ['Yucatán', '1.63', '2.65', '2.1', '2.1', '2.6'],
      ['Zacatecas', '13.79', '18.81', '21.4', '23.1', '35.5'],
    ];


    function busqueda_estado(cadena) {
      for (var i = 0; i < estados.length; i++) {
        if (estados[i][0] == cadena) {
          return parseFloat(estados[i][1]);
        }
      }
    }

    function busqueda_indice(cadena) {
      for (var i = 0; i < estados.length; i++) {
        if (estados[i][0] == cadena) {
          return parseFloat(i);
        }
      }
    }

    function busqueda_mexico() {
      var arrray=[];
      for (var i = 0; i < estados.length; i++) {
        if (estados[i][0] == "Estados Unidos Mexicanos") {
          for(var j=0;j< estados[i].length;j++)
          {
            arrray.push(estados[i][j])
          }
        }
      }
      return arrray;
    }

    function busqueda_estado_posicion(cadena, posicion) {
      for (var i = 0; i < estados.length; i++) {
        if (estados[i][0] == cadena)
        {
          return parseFloat(estados[i][posicion]);
        }
      }
    }

    function busqueda_anio(cadena) {
      for (var i = 0; i < estados[0].length; i++) {
        if (estados[0][i] == cadena) {
          return i;
        }
      }
    }

    //variable de mapa
    var img;
    var data_url;
    var locked = false;
    var map = L.map('map',
      {
        scrollWheelZoom: false,
        maxZoom: 14,
        minZomm: 5,
        //zoomControl:false,
        //dragging: false
      }).setView([24.8, -100], 5);

    L.tileLayer('http://{s}.google.com/vt/?hl=es&x={x}&y={y}&z={z}&s={s}&apistyle=s.t%3A5|p.l%3A53%2Cs.t%3A1314|p.v%3Aoff%2Cp.s%3A-100%2Cs.t%3A3|p.v%3Aon%2Cs.t%3A2|p.v%3Aoff%2Cs.t%3A4|p.v%3Aoff%2Cs.t%3A3|s.e%3Ag.f|p.w%3A1|p.l%3A100%2Cs.t%3A18|p.v%3Aoff%2Cs.t%3A49|s.e%3Ag.s|p.v%3Aon|p.s%3A-19|p.l%3A24%2Cs.t%3A50|s.e%3Ag.s|p.v%3Aon|p.l%3A15&style=47,37', {
      subdomains: ['mt0', 'mt1', 'mt2', 'mt3'],
      maxZoom: 14,
      minZomm: 5,
      attribution: '&copy <a href="https://www.mapbox.com/map-feedback/">Mapbox</a> &copy <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>',
      id: 'mapbox.light',
    }).addTo(map);

    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)) {
      map.dragging.disable();
    }

    // control that shows state info on hover
    var info = L.control();
    info.onAdd = function (map) {
      this._div = L.DomUtil.create('div', 'infos hide');
      this.update();
      return this._div;
    };

    var res = atributos.Serie[0].CobTemporal_ser;
    anioo = res.split('-');


    info.update = function (props) {
      
      $('.infos').removeClass('hide');
      $('.info2').removeClass('hide');
      if (props != undefined) {
        this._div.innerHTML = '<div><h5 style="font-weight:bold">' + props.nom_ent + '</h5><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b style="font-size: 20px;color: #00aeef;">' + busqueda_estado(props.nom_ent).toFixed(2)/*props.density*/ + '</b><br/><b style="padding-left:28px;color:#999999;">(' + anioo[1] + ')</b><p style="position: absolute;bottom: 71%;left: 35%;font-size: 15px;text-overflow: ellipsis;overflow: hidden;white-space: nowrap;width: 164px;">'+titulo_des_graf+'</p></div></div><div class="info"></div>';
        gen(estados[busqueda_indice(props.nom_ent)]);
      }
    };

    info.addTo(map);
    // get color depending on population density value
    // function getColor(d) {
    // 	return d > 1000 ? '#800026' :
    // 	       d > 500  ? '#BD0026' :
    // 	       d > 200  ? '#E31A1C' :
    // 	       d > 100  ? '#FC4E2A' :
    // 	       d > 50   ? '#FD8D3C' :
    // 	       d > 20   ? '#FEB24C' :
    // 	       d > 10   ? '#FED976' :
    // 	                  '#FFEDA0';
    // }

    function getColor(d) {
      return d > 100 ? '#004b67' :
        d > 50 ? '#007dab' :
          d > 20 ? '#01baff' :
            '#45ccff';
    }

    function getColoR(number) {
      return brew.getColorInRange(number);
    }

    function style(feature) {
      var res = String(getColoR(busqueda_estado(feature.properties.nom_ent))).split(",");
      return {
        weight: 0.5,
        opacity: 1,
        color: '#000',
        dashArray: '1',
        fillOpacity: 1,
        // fillColor: getColoR(feature.properties.density),
        fillColor: getColoR(busqueda_estado(feature.properties.nom_ent)),
        className: "c" + res[1]
      };
    }

    function highlightFeature(e) {
      if (locked == false) {
        var layer = e.target;
        layer.setStyle({
          weight: 2,
          color: '#ccc',
          dashArray: '',
          fillOpacity: 1
        });
        if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
          layer.bringToFront();
        }
        info.update(layer.feature.properties);
      }
    }
    var geojson;
    function resetHighlight(e) {
   
      geojson.resetStyle(e.target);
      info.update();
      
    }
    function zoomToFeature(e) {
      map.fitBounds(e.target.getBounds());
    }
    function onEachFeature(feature, layer) {
      layer.on({
        mouseover: highlightFeature,
        mouseout: resetHighlight,
        mousedown: function (e) {
          if (locked == true) {
            locked = false;
            (function ($) {
              $(".info2").css("border", "none");
              $(".infos").css("border", "none");
            } (jQuery));
          }
          else {
            locked = true;
            (function ($) {
              //	$(".info2").css("border","5px solid #00cc99");
              $(".info2").css("border-bottom", "5px solid rgb(107, 174, 214)");
              $(".info2").css("border-left", "5px solid rgb(107, 174, 214)");
              $(".info2").css("border-right", "5px solid rgb(107, 174, 214)");
              $(".infos").css("border-top", "5px solid rgb(107, 174, 214)");
              $(".infos").css("border-left", "5px solid rgb(107, 174, 214)");
              $(".infos").css("border-right", "5px solid rgb(107, 174, 214)");
              //								$(".infos").css("border","5px solid #00cc99");
            } (jQuery));
          }
          // 			resetHighlight(e);
        },
        //          click: zoomToFeature
      });
    }

    function highlightFromLegend(e) {
      
      (function ($) {
        $("svg path." + e).addClass("highlighted");
        var r = $("svg path." + e);
        for (var i = 0; i < r.length; i++) {
          r[i].classList.add("highlighted");
        }
      } (jQuery));
    }

    function clearHighlight() {
      (function ($) {

        $("path").removeClass("highlighted");
        var r = $("path");
        for (var i = 0; i < r.length; i++) {
          r[i].classList.remove("highlighted");
        }
      } (jQuery));
    }

    var brew = new classyBrew();
    var values = [];
    var values2 = [];
    for (var i = 0; i < statesData.features.length; i++) {
      if (statesData.features[i].properties.nom_ent == null) continue;
      values.push(busqueda_estado(statesData.features[i].properties.nom_ent));
    }

    brew.setSeries(values);
    brew.setNumClasses(4);
    brew.setColorCode("Reds");
    brew.classify('jenks');

    

    geojson = L.geoJson(statesData, {
      style: style,
      onEachFeature: onEachFeature
    }).addTo(map);



    map.attributionControl.addAttribution('');
    var legend = L.control();
    legend.onAdd = function (map) {
      var div = L.DomUtil.create('div', 'info2 legend hide'),
        grades = brew.getBreaks(),//[0, 20, 50, 100],
        labels = [],
        from, to;
      for (var i = 0; i < grades.length - 1; i++) {
        from = grades[i];
        to = grades[i + 1];
        var res = String(getColoR(from)).split(",");
        labels.push(
          '<div style="float:left; text-align: center;"><i class="leyenda" onmouseover="highlightFromLegend(\'c' + res[1] + '\')" onmouseout="clearHighlight();" style="width:100%; background:' + getColoR(from) + '"></i><br>' +
          from.toFixed(2) + (to.toFixed(2) ? '&ndash;' + to.toFixed(2) : '+') + '</div>');
      }
      div.innerHTML = labels.join('');
      return div;
    };
    legend.addTo(map);


    $(document).ready(function () {
      for (var j = 1; j < 18; j++) {
        var id = '#obj_' + j;
        for (var i = 0; i < 30; i++) {
          var r = Math.floor((Math.random() * 10) + 1);
          if (r == 1) {
            $(id).append('<th class="id_m1 tooltip" data-tooltip-content="#tooltip_content_1"></th>');
          }
          if (r == 2) {
            $(id).append('<th class="id_m2 tooltip" data-tooltip-content="#tooltip_content_2"></th>');
          }
          if (r == 3) {
            $(id).append('<th class="id_m3 tooltip" data-tooltip-content="#tooltip_content_3"></th>');
          }
          if (r == 4) {
            $(id).append('<th class="id_m4 tooltip" data-tooltip-content="#tooltip_content_4"></th>');
          }
          if (r == 5) {
            $(id).append('<th class="id_m5 tooltip" data-tooltip-content="#tooltip_content_5"></th>');
          }
          if (r == 6) {
            $(id).append('<th class="id_m6 tooltip" data-tooltip-content="#tooltip_content_6"></th>');
          }
          if (r == 7) {
            $(id).append('<th class="id_m7 tooltip" data-tooltip-content="#tooltip_content_7"></th>');
          }
          if (r == 8) {
            $(id).append('<th class="id_m8 tooltip" data-tooltip-content="#tooltip_content_8"></th>');
          }
          if (r == 9) {
            $(id).append('<th class="id_m9 tooltip" data-tooltip-content="#tooltip_content_9"></th>');
          }
          if (r == 10) {
            $(id).append('<th class="id_m10 tooltip" data-tooltip-content="#tooltip_content_10"></th>');
          }
        }
      }

      var bandera = true;

    });
  </script>
  <script>
    $(document).ready(function () {

      var touch = 'ontouchstart' in document.documentElement
            || navigator.maxTouchPoints > 0
            || navigator.msMaxTouchPoints > 0;

      if (touch) { // remove all :hover stylesheets
          try { // prevent exception on browsers not supporting DOM styleSheets properly
              for (var si in document.styleSheets) {
                  var styleSheet = document.styleSheets[si];
                  if (!styleSheet.rules) continue;

                  for (var ri = styleSheet.rules.length - 1; ri >= 0; ri--) {
                      if (!styleSheet.rules[ri].selectorText) continue;

                      if (styleSheet.rules[ri].selectorText.match(':hover')) {
                          styleSheet.deleteRule(ri);
                      }
                  }
              }
          } catch (ex) {}
      }

      function deselect(e) {
        $('.pop').slideFadeToggle(function() {
          e.removeClass('selected');
        });
      }

      if(!!('ontouchstart' in window)){//check for touch device
        $('#contact').unbind('click mouseenter mouseleave'); //use off if you used on, to unbind usual listeners
        $('#contact').on('click',function(){
          //slide down code
          $(this).addClass('selected');
          $('.pop').slideFadeToggle();
          });
      }

       $("#contact").hover(
        function() {
          if($(this).hasClass('selected')) {
            deselect($(this));
          } else {
            $(this).addClass('selected');
            $('.pop').slideFadeToggle();
          }
          return false;
        }, function() {
          deselect($('#contact'));
          return false;
        }
      );


      $.fn.slideFadeToggle = function(easing, callback) {
        return this.animate({ opacity: 'toggle', height: 'toggle' }, 'fast', easing, callback);
      };

    });


  function buscar(busqueda){
    window.location.replace("busqueda.html?busqueda=" + busqueda);
  }

  </script>
</body>

</html>
